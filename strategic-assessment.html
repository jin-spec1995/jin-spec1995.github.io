<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>JSB Strategic Assessment</title>
<style>
  :root{
    --brand-dark:#0d3b2e; --brand-mid:#0e6f57; --brand-light:#22c28a;
    --ink:#0b0b0b; --paper:#ffffff; --muted:#5e6b74; --line:#e6eaee; --chip:#f5f8f7;
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; font-family:Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
    color:var(--ink); background:var(--paper); -webkit-font-smoothing:antialiased; -moz-osx-font-smoothing:grayscale
  }
  .wrap{max-width:900px; margin:32px 0 48px 20px; padding:0 20px;} /* left aligned for SuiteDash */
  header.brand{display:flex; align-items:flex-end; justify-content:space-between; gap:16px; margin-bottom:18px;}
  .brand-side{display:flex; align-items:center; gap:12px}
  .brand-title{font-weight:800; letter-spacing:.2px; color:var(--brand-mid); font-size:20px;}
  .subtle{color:var(--muted); font-size:14px}
  .card{background:#fff; border:1px solid var(--line); border-radius:16px; padding:22px; box-shadow:0 1px 0 #f4f6f8;}
  .section-tag{display:inline-flex; align-items:center; gap:8px; padding:6px 10px; background:var(--chip); border-radius:24px; font-size:12px; color:var(--brand-mid); border:1px solid #eaf4f0;}
  .title{font-weight:800; font-size:22px; margin:12px 0 10px; color:var(--brand-dark)}
  .lead{color:#20332b; font-size:16px; line-height:1.5}
  .actions{display:flex; flex-wrap:wrap; gap:10px; margin-top:18px}
  .btn{appearance:none; border:0; border-radius:12px; padding:12px 16px; font-weight:700; cursor:pointer; display:inline-flex; align-items:center; gap:10px; letter-spacing:.2px; text-decoration:none}
  .btn-primary{background:linear-gradient(180deg,var(--brand-light),#10a772); color:#083524; border:1px solid #10a772}
  .btn-ghost{background:#fff; color:var(--brand-mid); border:1px solid var(--line)}
  .q-label{font-size:18px; font-weight:700; margin:6px 0 12px}
  .choices{display:grid; grid-template-columns:1fr; gap:10px; margin-top:6px}
  @media (min-width:680px){ .choices{grid-template-columns:1fr 1fr} }
  .chip-choice{position:relative; display:flex; align-items:center; gap:10px; padding:12px 12px; border:1px solid var(--line); border-radius:12px; background:#fff; font-size:14px; color:#2b3a33; transition:border-color .15s, box-shadow .15s, background .15s}
  .chip-choice input{position:absolute; inset:0; opacity:0; cursor:pointer}
  .chip-choice:has(input:checked){border-color:#10a772; box-shadow:0 0 0 3px rgba(16,167,114,.18); background:#f4fff9}
  .nav-row{display:flex; justify-content:space-between; align-items:center; gap:10px; margin-top:16px}
  .spacer{flex:1}
  .site-footer {
    position: fixed;        /* stick to bottom */
  bottom: 0;
  left: 20px;
  right: 20px;
  margin-top: 40px;
  padding: 16px 0;
  border-top: 1px solid var(--line);
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 16px;
  font-size: 14px;
  color: var(--muted);
}

.footer-left {
  display: flex;
  align-items: center;
  gap: 10px;
}

.footer-left img {
  height: 20px;
  width: auto;
}

.footer-links {
  display: flex;
  gap: 20px;
}

.footer-links a {
  color: var(--brand-mid);
  font-weight: 600;
  text-decoration: none;
}

.footer-links a:hover {
  text-decoration: underline;
}
  /* Progress strip */
  .progress-wrap{margin-top:16px; border:1px solid var(--line); border-radius:12px; padding:8px 12px; display:flex; align-items:center; gap:12px; background:#fafdfc}
  .progress-label{font-size:13px; color:var(--muted); white-space:nowrap}
  .progress-bar{position:relative; flex:1; height:10px; background:#edf5f1; border-radius:999px; overflow:hidden}
  .progress-fill{position:absolute; top:0; left:0; height:100%; width:0%; background:linear-gradient(90deg,#22c28a,#0e6f57)}
  /* Results */
  .kpis{display:grid; gap:12px; margin-top:4px}
  @media (min-width:720px){ .kpis{grid-template-columns:repeat(4,1fr)} }
  .kpi{border:1px solid var(--line); border-radius:14px; padding:14px; background:#fff}
  .kpi .label{font-size:12px; color:var(--muted)}
  .kpi .value{font-weight:800; font-size:20px; color:#0e6f57}
  .banner{border:1px solid var(--line); border-radius:14px; padding:14px; background:#fff; display:flex; gap:12px; align-items:flex-start; margin-top:14px}
  .badge{font-size:12px; padding:6px 10px; border-radius:999px; color:#083524; background:#ccf2e4; border:1px solid #b9eddc}
  .banner.low{border-color:#ffe5c0; background:#fff9f0}
  .banner.low .badge{background:#ffe5c0; border-color:#ffd79c; color:#5a3d0a}
  .banner.mid{border-color:#cce7e6; background:#f2fbfb}
  .banner.mid .badge{background:#d9f4f3; border-color:#c2ecea; color:#0e6b66}
  .banner.high{border-color:#cfeedd; background:#f6fffa}
  .banner.high .badge{background:#cfeedd; border-color:#b8e7ce; color:#115e38}
  .hidden{display:none !important}
  @media print{ .actions,.progress-wrap{display:none !important} .wrap{margin:0; padding:0} header.brand{margin-bottom:8px} }
</style>
</head>
<body>
  <div class="wrap" id="app">
    <header class="brand">
      <div class="brand-side">
        <img src="jsb_icon.svg" alt="JSB" height="32" onerror="this.style.display='none'"/>
        <div class="brand-title">Just Smart Business</div>
      </div>
      <div class="subtle">Strategic Assessment — one step at a time</div>
    </header>

    <!-- INTRO -->
    <section class="card" id="intro">
      <span class="section-tag">Welcome</span>
      <h1 class="title">Ready for your strategic assessment with JSB?</h1>
      <p class="lead">
        Answer <strong>14 quick questions</strong> to get a clear snapshot of where your business is today—then see
        your tailored recommendations and next steps. It takes just a few minutes.
      </p>
      <div class="actions">
        <button class="btn btn-primary" id="startBtn">Start your assessment</button>
      </div>
    </section>

    <!-- QUESTION FLOW -->
    <section class="card hidden" id="quiz">
      <div class="q-label" id="qText">Question text loads here</div>
      <div class="choices" id="choices"></div>

      <div class="nav-row">
        <button class="btn btn-ghost" id="backBtn" type="button">Back</button>
        <div class="spacer"></div>
        <button class="btn btn-primary" id="nextBtn" type="button">Next</button>
      </div>

      <div class="progress-wrap" aria-live="polite">
        <div class="progress-label" id="progressLabel">Question 1 of 14</div>
        <div class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0">
          <div class="progress-fill" id="progressFill"></div>
        </div>
      </div>
    </section>

    <!-- RESULTS -->
    <section class="card hidden" id="results">
      <div class="title" style="margin-top:0">Your Results</div>
      <div class="kpis">
        <div class="kpi">
          <div class="label">Total Score</div>
          <div class="value" id="overallScore">—</div>
        </div>
        <div class="kpi">
          <div class="label">Overall (%)</div>
          <div class="value" id="overallPct">—</div>
        </div>
        <div class="kpi">
          <div class="label">Questions</div>
          <div class="value">14</div>
        </div>
        <div class="kpi">
          <div class="label">Max Score</div>
          <div class="value">140</div>
        </div>
      </div>

      <div class="banner" id="resultBanner">
        <span class="badge">Status</span>
        <div id="resultText">—</div>
      </div>

      <div class="actions" style="margin-top:16px">
        <!-- Update this link to your live booking URL -->
        <a class="btn btn-primary" href="https://justsmartbusiness.com.au/book" target="_blank" rel="noopener">Book a Strategy Session</a>
        <button class="btn btn-ghost" id="resetBtn" type="button">Reset &amp; start again</button>
      </div>
    </section>
    <footer class="site-footer">
  <div class="footer-left">
    <img src="jsb_icon.svg" alt="JSB icon" />
    <span class="subtle">© <span id="year"></span> Just Smart Business</span>
  </div>
  <div class="footer-links">
    <a href="https://justsmartbusiness.com.au" target="_blank" rel="noopener">Website</a>
    <a href="https://justsmartbusiness.com.au/contact" target="_blank" rel="noopener">Contact Us</a>
  </div>
</footer>
  </div>

<script>
  document.getElementById("year").textContent = new Date().getFullYear();
  // ===== Content =====
  const QUESTIONS = [
    { q: 'Do you have a clear vision (Big Goal) of where the company is going? (Do you have it written down)',
      options: [
        ['You have some idea',2],
        ['You know what you want  but it is not written',4],
        ['It is written down but it is not measureable',6],
        ['It is clear and written but you are a bit off track',8],
        ['It is clear, written and you are on track',10],
      ]},
    { q: 'Can you describe clearly the purpose of your business in about 30 words (who you are, what you do and why)?',
      options: [
        ['To some extent but it is not completely clear',2],
        ['You  have it clearly stated but focus on sales',4],
        ['You have it clear and use it on marketing material',6],
        ['You are clear but often do things beyond this',8],
        ['It is clear, written and it guides our decisions',10],
      ]},
    { q: 'Do you know what issues are holding you back from achieving your “Big Goal”?',
      options: [
        ['I don’t have enough time to consider the big picture',2],
        ['I have an idea where I want to go but lack the tools to identify the issues',4],
        ['I know what is holding me back but I need to allocate time to work out the steps to get where I want to be.',6],
        ['I know what they are and I am actively taking steps to address them so I can achieve my "Big Goal"',8],
        ['I have a coach/mentor and we are working on them',10],
      ]},
    { q: 'How does your service delivery rate, what are the level of complaints?',
      options: [
        ['Too many but they  are just a part of the business',2],
        ['A few a week but we manage to juggle them',4],
        ['You get a few complaints but don’t keep track',6],
        ['One now and then but it’s a chance to do better',8],
        ['You measure complaints against a target.',10],
      ]},
    { q: 'How’s your business knowledge?',
      options: [
        ['You have just started out & just learning',2],
        ['You have a business degree but little experience',4],
        ['You have experience but no formal qualifications',6],
        ['Extensive business experience',8],
        ['Extensive experience and formal support network',10],
      ]},
    { q: 'Do you have a list of projects that you need to complete this year?',
      options: [
        ['You focus on the things that need to be done right now',2],
        ['You have a list but can never seem to find the time',4],
        ['There are things to be done but no plans made',6],
        ['Working on a couple of projects right now',8],
        ['Project plans are in place for this year',10],
      ]},
    { q: 'Do you know what net profit you want to achieve next financial year?',
      options: [
        ['You are just worried about this year',2],
        ['You want to increase your profit by a % each year',4],
        ['You have a target but not measuring where we are',6],
        ['You have a target but your accounts are a bit behind',8],
        ['You have a target and you know you are on track',10],
      ]},
    { q: 'Do you know how many sales per year you need to achieve your net profit goal?',
      options: [
        ['You don’t look at sale numbers but revenue',2],
        ['Our range is so broad this is hard to do',4],
        ['You have a target but not measuring where you are',6],
        ['You have a target but are a bit behind',8],
        ['You  have a target and you know you are on track',10],
      ]},
    { q: 'Do you know average value per sale you need to achieve your net profit goal?',
      options: [
        ['Our range is too big to calculate an average',2],
        ['You try to maximise the sale revenue every time',4],
        ['You do but don’t follow through with measuring',6],
        ['You do but your results are below target',8],
        ['You do and are achieving this average or above',10],
      ]},
    { q: 'Do you know the gross profit rate you need to achieve your net profit goal?',
      options: [
        ['You know what it is but don’t have a target',2],
        ['You focus on net profit',4],
        ['Yes and look at it when the books are done',6],
        ['Yes  and measure it weekly or monthly',8],
        ['Yes and measure per sale and per week or month',10],
      ]},
    { q: 'Do you have a budget for overhead expenses in order to achieve your net profit goal?',
      options: [
        ['No but you try to minimise costs where possible',2],
        ['Yes but we spend what we need to spend',4],
        ['Yes and we are over budget',6],
        ['Yes and we are over/below budget',8],
        ['Yes and you monitor costs and are on target',10],
      ]},
    { q: 'What is holding you back. What are the issues stopping you from achieving your day to day goals?',
      options: [
        ['You address issues as they arise',2],
        ['You have a list and review it when there is time',4],
        ['You look at issues and plan to do the urgent items',6],
        ['You look at issues as they arise and create goals to address them',8],
        ['You do an analysis, create goals and action plans',10],
      ]},
    { q: 'Do you know when Cashflow is going to be a problem for you?',
      options: [
        ['It is always a problem',2],
        ['We check the bank daily so we can pay the bills',4],
        ['Things are a bit tight right now',6],
        ['You always have a bit of a problem some months',8],
        ['You have peaks and troughs and you plan for this',10],
      ]},
    { q: 'Using your own business knowledge honestly how do you think your business is going?',
      options: [
        ['It’s a day to day proposition',2],
        ['Things are tough',4],
        ['Okay but working long hours in the business',6],
        ['Good but little time for family',8],
        ['Great and it fits with what we want to do privately',10],
      ]},
  ];

  const THRESHOLDS = [
    [0.9, "Congratulations, you are doing well and are on track building a business just the way you want. Keep up the great work!"],
    [0.75, "You are okay so far but may really benefit from some more guidance to help you maximise your profitability and reduce the time you are working in the business rather than on the business. We recommend our one-on-one strategy session to see if our small business Intensive – “Focus on Growth - Today!” is suitable for your needs (no cost)."],
    [0.5, "While you are getting by you could possibly be doing better. We definitely recommend our one-on-one strategy session to see if our small business Intensive – “Focus on Growth - Today!” is suitable for your needs (no cost)."],
    [0.3, "Great potential to improve and there’s no time like the present. A simple plan can make a big difference. Book a one-on-one strategy session to explore your next steps (no cost)."],
    [0.01, "Your strategic approach needs focus. If you want to grow and reduce stress, start with a no-cost one-on-one strategy session to see if our small business intensive “Focus on Growth Today!” is right for you."]
  ];

  // ===== Helpers =====
  const $ = (s,scope=document)=>scope.querySelector(s);
  const create = (tag, attrs={}, html='')=>{
    const el = document.createElement(tag);
    for (const [k,v] of Object.entries(attrs)) {
      if (k === 'class') el.className = v; else if (k === 'for') el.htmlFor = v; else el.setAttribute(k,v);
    }
    if (html) el.innerHTML = html;
    return el;
  };

  // ===== State =====
  let idx = 0; // 0..(n-1)
  const n = QUESTIONS.length;
  const answers = new Array(n).fill(null); // store numeric values

  // ===== Elements =====
  const intro   = $('#intro');
  const quiz    = $('#quiz');
  const qText   = $('#qText');
  const choices = $('#choices');
  const backBtn = $('#backBtn');
  const nextBtn = $('#nextBtn');
  const progressLabel = $('#progressLabel');
  const progressFill  = $('#progressFill');
  const results = $('#results');
  const overallScore = $('#overallScore');
  const overallPct   = $('#overallPct');
  const resultBanner = $('#resultBanner');
  const resultText   = $('#resultText');

  // ===== UI control =====
  function showIntro(){ intro.classList.remove('hidden'); quiz.classList.add('hidden'); results.classList.add('hidden'); }
  function showQuiz(){ intro.classList.add('hidden'); results.classList.add('hidden'); quiz.classList.remove('hidden'); }
  function showResults(){ intro.classList.add('hidden'); quiz.classList.add('hidden'); results.classList.remove('hidden'); }

  function renderQuestion(){
    const { q, options } = QUESTIONS[idx];
    qText.textContent = q;

    // build choices
    choices.innerHTML = '';
    options.forEach(([label, val], i) => {
      const id = `opt-${idx}-${i}`;
      const wrap = create('label', { class:'chip-choice', for:id });
      wrap.append(
        create('input', { type:'radio', id, name:'q', value:String(val) }),
      );
      wrap.append(document.createTextNode(label));
      choices.append(wrap);
    });

    // restore selection if present
    if (answers[idx] != null) {
      const pre = choices.querySelector(`input[value="${answers[idx]}"]`);
      if (pre) pre.checked = true;
    }

    // nav buttons
    backBtn.disabled = idx === 0;
    nextBtn.textContent = (idx === n - 1) ? 'Finish' : 'Next';

    // progress
    const pct = Math.round((idx)/n*100);
    progressLabel.textContent = `Question ${idx+1} of ${n}`;
    progressFill.style.width = `${((idx)/n)*100}%`;
    const bar = progressFill.parentElement;
    bar.setAttribute('aria-valuenow', String(pct));
  }

  function getSelected(){
    const sel = choices.querySelector('input[name="q"]:checked');
    return sel ? parseInt(sel.value,10) : null;
  }

  function computeAndShowResults(){
    const total = answers.reduce((a,b)=>a+(b||0),0);
    const max = n * 10;
    const percent = Math.round((total/max)*100);

    overallScore.textContent = `${total} / ${max}`;
    overallPct.textContent = `${percent}%`;

    let msg = "Thank you for completing the assessment.";
    let band = "mid";
    for (const [thr, text] of THRESHOLDS){
      if ((percent/100) >= thr){ msg = text; band = (thr>=0.9?'high' : thr>=0.5 ? 'mid' : 'low'); break; }
    }
    resultBanner.classList.remove('low','mid','high');
    resultBanner.classList.add(band);
    resultText.textContent = msg;

    showResults();
    window.scrollTo({top:results.offsetTop - 8, behavior:'smooth'});
  }

  // ===== Events =====
  document.addEventListener('click', (e)=>{
    const id = e.target.id;

    if (id === 'startBtn'){
      idx = 0;
      showQuiz();
      renderQuestion();
    }

    if (id === 'backBtn'){
      if (idx > 0){ idx--; renderQuestion(); }
    }

    if (id === 'nextBtn'){
      const value = getSelected();
      if (value == null){
        alert('Please select an option to continue.');
        return;
      }
      answers[idx] = value;
      if (idx < n - 1){
        idx++; renderQuestion();
      } else {
        // last question -> compute
        progressFill.style.width = '100%';
        progressLabel.textContent = `Question ${n} of ${n}`;
        computeAndShowResults();
      }
    }

    if (id === 'resetBtn'){
      // reset everything back to intro
      for (let i=0;i<n;i++) answers[i] = null;
      idx = 0;
      // reset progress
      progressFill.style.width = '0%';
      progressLabel.textContent = `Question 1 of ${n}`;
      showIntro();
      window.scrollTo({top:0, behavior:'smooth'});
    }
  });

  // Initial view
  showIntro();
</script>
</body>
</html>
